作为一名初入职场的开发者，最开始是在逛 B 站刷视频时看到的一个 Spring 源码阅读解析，当时作为一个只知道 SSH 和 CRUD 的 boy，看完后心里就两个词儿“卧槽！牛 B 啊！”而且在去年秋招面试阿里时几乎每次都会被面试官问道“有阅读过什么开源框架吗？”每次我都只能一脸便秘的“嗯…，呃…，啊…，木得…”。这在我心里埋下了一个想法，硬着头皮也要把 Spring 框架源码读一遍，再不济也要看看猪是怎么跑的。

从 7 月份开始到现在，利用业余时间完成了 Spring 核心实现（IoC、DI、AOP）及重要组件实现（MVC、事务、JDBC）的源码阅读，并输出相关博客 7 篇，在 Spring 源码上做的详细注解也维护到了个人 GitHub 上，并且将其整合到了开源学习社区 Doocs 上。

学习方法的话，我个人比较喜欢先在 B 站上看相关视频，知道怎么读，从哪下口。然后自己买了本 计文柯老师的《Spring 技术内幕》，比对着从 Spring 官网下载的源码包潜心研读。第一遍读，什么都不懂，按图索骥，迷迷糊糊的读完了；第二遍读，就轻车熟路一些咯，“卧槽！原来如此！”的感叹声也络绎不绝；第三遍就能够在整体代码设计和细节实现两个不同的层次上去吸收 Spring 框架的优点咯。

这三个月来，阅读 Spring 源码给我带来的提升，主要在专业技能上，但同时也辐射到了我的工作、学习、社交等方面。所以，写这篇文章一方面是应“码农翻身”专栏——刘欣老师的建议，做个经验谈，另一方面也是对自己这三个月学习成果的总结。

下面我将分三个部分，谈一谈自己的经验。

### 一、工作方面（编码规范、编码能力、设计模式、英文阅读）

我所从事的行业做的是 toB 的业务，产品底层平台的框架，代码累累，堆积成山，很多框架都是零几年写的，有的甚至比 Spring 还早。且最近国产化、中台、云服务等概念都在不断落地中，有框架源码的阅读经验，让我能够更从容地面对公司研发的新框架，所维护的产品适配华为高斯数据库时，也更清楚可能是 JDBC 框架中哪里做了特殊处理所导致的问题。当然，最主要的还是对个人编码规范的养成，设计模式的理解应用，英文阅读的能力提升。

作为一个初入职场的开发者，编码规范是一个很重要的点，能够让你写出的代码易于维护、阅读和理解。比如，Spring 框架虽然类图体系复杂丰富，但对于类、方法、参数等的命名非常规范；注释注解也非常严谨，注重格式，不会偷懒；对于异常和日志的处理也具有很好的参考价值。比如，之前产品中有遇到一个“将业务表单中的小数从科学计数法转换成普通计数法”（数值过大的 Double 类型数字默认会以科学记数法显示，这是用户无法接受的），研读了复杂的业务代码之后，发现填充到表单前的数据都是 Object 类型的，且丢失了原本类型，无法通过 instanceof 判断应该转成 String 还是 Double，这让我和我的师傅都有点头疼，但 Spring 源码中有过一段以异常捕获机制处理逻辑代码的片段让我灵光乍现，于是我直接将 Object 强转成 Double 并使其不做科学记数法的处理，并将这段代码 try 住，如果没抛异常，就转换成了 Double，抛了异常，就在 catch 中强转成 String。

另外，部门也经常会做代码评审，规范的编码不但能够获得同事的认可，一点一滴的细节也会使你的 leader 对你刮目相看。

从 IoC 的各顶层接口到中间一层一层的抽象类，再到最后的实现类，这一整套体系的设计和实现，对自己在日常工作中设计某些功能的接口、抽象类和具体实现，都带来了很有价值的参考，设计模式和巧妙的编码技巧也渐渐变得触手可及。比如，设计一个 VO 字段校验功能时，会先定义一个顶层接口，抽象出公共方法，抽象类中有做必输项字段非空校验的，在其中利用模板方法模式对公共功能做具体实现，特性化功能写成抽象方法交由各子类具体实现即可。

Spring 上很多接口和抽象类，其注解甚至比代码还多，我也经常尝试着去阅读理解这些注释，看看自己的理解与书上的差异，用这种方式来提升英文技术文档的阅读能力，往往更实在一些。

### 二、学习方面（学习模式的构建、学以致用）

虽然是做技术的，但我也是一个很爱出去耍的人。构建好自己的学习模式能够让你更从容地面对工作和生活。不加班的情况下（所幸部门加班并不太多），我一般会在晚饭之后以及周日时间充电。不管是学技术还是其它什么东西，我认为 以视频为入口，以业界公认的名书继续深入理解，以社交圈的同行或网上社区为输出交流管道，最后持久化到思维导图及学习文档中。Spring 源码学习是我工作之后对自己学习模式构建的一个尝试，构建起这种学习模式之后，个人的工作和生活也变得更加协调平衡，不至于在繁杂忙碌的工作中渐渐丧失学习能力。另外一个比较重要的就是，看 Spring 源码时经常能看到一些与公司框架有异曲同工之妙的编码技巧及实现，比如异常的批量抛出，ConcurrentHashMap 初始化其容量，ThreadLocal 的使用等等，这些都是在读 Spring 源码之前很少会注意或使用的。

### 三、社交方面（GitHub、事业部内部授课）

对于我来说，既然辛辛苦苦搞懂了一个技术，那就一定得输出自己的理解和经验，装波逼，不然辛辛苦苦几个月，什么产出都没有，过一段时间又把学得给忘了，这和被白嫖有什么区别。而输出知识的话当然要选一些比较优质的平台，比如 GayHub，Doocs 组织和其创建者就是我在 GitHub 上认识的，这些大佬之所以牛逼，能够成事，必然有其原因，加入他们的组织跟着混，准能学到更多我想要的东西（不仅仅是技术方面）。

另外，我所在的事业部也有一个“王者荣耀”的学习进阶活动，将自己的学习成果整理成简单、易于理解的内部授课也更容易获得同事的认可与信赖。

### 个人建议

对于初级开发者学习 Spring 源码来说，我建议配合阿里的《Java 开发手册》一起看，因为编码能力和框架设计能力是需要很长时间的经验积累才能得到大幅提升的，而编码规范则是我们最开始就能做到并做好的事情，也是很多成熟公司越来越重视的东西。另外，阿里的《Java 开发手册》中不少规范都是参考了 Spring 框架的，这也从侧面体现了 Spring 作为业界知名框架，其编码的规范性是深受认可的。
